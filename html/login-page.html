<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/css/login-page.css">
</head>
<body>
    <div class="container">
        <div class="left-section">
            <h1>Enter Credentials</h1>
            <p>Enter your valid username and password to access the user view.</p>
        </div>
        <div class="right-section">
            <div class="sign-in-card">
                <h2>Login</h2>
                <form id="signInForm" class="signIn">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" placeholder="Enter Username">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="Enter Password">
                    </div>
                    <button type="submit" class="sign-up-btn">Login</button>
                </form>
            </div>
        </div>
    </div>
    <footer>
        <p>Â© InfoSphere Innovators, 2025</p>
    </footer>
    <script src="/js/login-page.js"></script>
    <script>
        // Import Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-auth.js";

        // Firebase configuration
        const firebaseConfig = {
        apiKey: "AIzaSyC4YDw8dhp1qsJ7BhlNUSNHq3BxYzg6GDI",
        authDomain: "web-based-event-scheduling.firebaseapp.com",
        projectId: "web-based-event-scheduling",
        storageBucket: "web-based-event-scheduling.appspot.com",
        messagingSenderId: "925435406930",
        appId: "1:925435406930:web:48c759977c266a2cedcd8b"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Handle form submission
        document.getElementById("signInForm").addEventListener("submit", function (e) {
        e.preventDefault();

        const email = document.getElementById("username").value.trim();
        const password = document.getElementById("password").value;

        if (!email || !password) {
            alert("Please enter both email and password.");
            return;
        }

        signInWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
            // Login successful
            const user = userCredential.user;
            console.log("Logged in as:", user.email);

            // Redirect to profile.html
            window.location.href = "/html/profile.html";
            })
            .catch((error) => {
            console.error("Login failed:", error.code, error.message);
            alert("Login failed: " + error.message);
            });
        });
    </script>
</body>
</html>